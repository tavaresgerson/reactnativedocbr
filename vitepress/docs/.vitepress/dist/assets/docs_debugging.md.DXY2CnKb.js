import{_ as e,c as o,o as a,a4 as s}from"./chunks/framework.nQaBHiNx.js";const r="/assets/307929568-c4514d57-633d-48d7-acd8-85b15c785dee.BSCw5qYK.png",g=JSON.parse('{"title":"Noções básicas de depuração","description":"","frontmatter":{},"headers":[],"relativePath":"docs/debugging.md","filePath":"docs/debugging.md"}'),i={name:"docs/debugging.md"},t=s('<h1 id="nocoes-basicas-de-depuracao" tabindex="-1">Noções básicas de depuração <a class="header-anchor" href="#nocoes-basicas-de-depuracao" aria-label="Permalink to &quot;Noções básicas de depuração&quot;">​</a></h1><h2 id="acessando-o-menu-de-desenvolvimento" tabindex="-1">Acessando o menu de desenvolvimento <a class="header-anchor" href="#acessando-o-menu-de-desenvolvimento" aria-label="Permalink to &quot;Acessando o menu de desenvolvimento&quot;">​</a></h2><p>React Native fornece um menu de desenvolvedor no aplicativo que oferece várias opções de depuração. Você pode acessar o Menu Dev agitando seu dispositivo ou por meio de atalhos de teclado:</p><ul><li>Simulador iOS: Cmd ⌘ + D (ou Dispositivo &gt; Agitar)</li><li>Emuladores Android: Cmd ⌘ + M (macOS) ou Ctrl + M (Windows e Linux)</li></ul><p>Alternativamente, para dispositivos e emuladores Android, você pode executar <code>adb shell input keyevent 82</code> em seu terminal.</p><p><img src="'+r+`" alt="image"></p><div class="info custom-block"><p class="custom-block-title"><strong>OBSERVAÇÃO</strong></p><p>O menu Dev está desabilitado em compilações de lançamento (produção).</p></div><h2 id="logbox" tabindex="-1">LogBox <a class="header-anchor" href="#logbox" aria-label="Permalink to &quot;LogBox&quot;">​</a></h2><p>Erros e avisos em builds de desenvolvimento são exibidos no LogBox dentro do seu aplicativo.</p><div class="info custom-block"><p class="custom-block-title"><strong>OBSERVAÇÃO</strong></p><p>LogBox está desabilitado em compilações de lançamento (produção).</p></div><h2 id="erros-e-avisos-do-console" tabindex="-1">Erros e avisos do console <a class="header-anchor" href="#erros-e-avisos-do-console" aria-label="Permalink to &quot;Erros e avisos do console&quot;">​</a></h2><p>Os erros e avisos do console são exibidos como notificações na tela com um emblema vermelho ou amarelo e o número de erros ou avisos no console, respectivamente. Para visualizar um erro ou avisos do console, toque na notificação para visualizar as informações em tela cheia sobre o log e para paginar todos os logs no console.</p><p>Essas notificações podem ser ocultadas usando <code>LogBox.ignoreAllLogs()</code>. Isso é útil ao fazer demonstrações de produtos, por exemplo. Além disso, as notificações podem ser ocultadas por log por meio de <code>LogBox.ignoreLogs()</code>. Isto é útil quando há um aviso frequente que não pode ser corrigido, como aqueles em uma dependência de terceiros.</p><div class="info custom-block"><p class="custom-block-title"><strong>INFORMAÇÕES</strong></p><p>Ignore os logs como último recurso e crie uma tarefa para corrigir quaisquer logs que sejam ignorados.</p></div><div class="language-jsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {LogBox} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;react-native&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Ignorar notificação de log por mensagem:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LogBox.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ignoreLogs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Warning: ...&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Ignore todas as notificações de log:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LogBox.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ignoreAllLogs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h2 id="erros-nao-tratados" tabindex="-1">Erros não tratados <a class="header-anchor" href="#erros-nao-tratados" aria-label="Permalink to &quot;Erros não tratados&quot;">​</a></h2><p>Erros de JavaScript não tratados, marcado como <code>undefined is not a function</code>, abrirão automaticamente um erro LogBox em tela inteira com a origem do erro. Esses erros são dispensáveis e minimizáveis para que você possa ver o estado do seu aplicativo quando esses erros ocorrem, mas sempre devem ser resolvidos.</p><h2 id="erros-de-sintaxe" tabindex="-1">Erros de sintaxe <a class="header-anchor" href="#erros-de-sintaxe" aria-label="Permalink to &quot;Erros de sintaxe&quot;">​</a></h2><p>Quando ocorre um erro de sintaxe, o erro LogBox em tela cheia será aberto automaticamente com o rastreamento de pilha e a localização do erro de sintaxe. Este erro não pode ser descartado porque representa uma execução inválida de JavaScript que deve ser corrigida antes de continuar com seu aplicativo. Para descartar esses erros, corrija o erro de sintaxe e salve para descartar automaticamente (com Atualização Rápida habilitada) ou Cmd ⌘/Ctrl + R para recarregar (com Atualização Rápida desabilitada).</p><h2 id="ferramentas-para-desenvolvedores-do-chrome" tabindex="-1">Ferramentas para desenvolvedores do Chrome <a class="header-anchor" href="#ferramentas-para-desenvolvedores-do-chrome" aria-label="Permalink to &quot;Ferramentas para desenvolvedores do Chrome&quot;">​</a></h2><p>Para depurar o código JavaScript no Chrome, selecione &quot;Open Debugger&quot; no menu Dev. Isso abrirá uma nova guia em <code>http://localhost:8081/debugger-ui</code>.</p><p>A partir daqui, selecione <code>More Tools → Developer Tools</code> no menu do Chrome para abrir o <a href="https://developer.chrome.com/devtools" target="_blank" rel="noreferrer">Chrome DevTools</a>. Alternativamente, você pode usar o atalho ⌥ Option + Cmd ⌘ + I (macOS) / Ctrl + Shift + I (Windows e Linux).</p><ul><li>Se você é novo no Chrome DevTools, recomendamos aprender sobre as guias <a href="https://developer.chrome.com/docs/devtools/#console" target="_blank" rel="noreferrer">Console</a> e <a href="https://developer.chrome.com/docs/devtools/#sources" target="_blank" rel="noreferrer">Fontes</a> nos documentos.</li><li>Você pode querer habilitar <a href="https://developer.chrome.com/docs/devtools/javascript/breakpoints/#exceptions" target="_blank" rel="noreferrer">Pause on Caught Exceptions</a> para uma melhor experiência de depuração.</li></ul><div class="info custom-block"><p class="custom-block-title"><strong>INFORMAÇÕES</strong></p><p>A extensão React Developer Tools Chrome não funciona com React Native, mas você pode usar sua versão independente. Leia <a href="/docs/react-devtools.html">esta seção</a> para saber como.</p></div><div class="tip custom-block"><p class="custom-block-title"><strong>DICA</strong></p><p>No Android, se os tempos entre o depurador e o dispositivo variarem, coisas como animações e comportamento de eventos poderão não funcionar corretamente. Isso pode ser corrigido executando <code>adb shell &quot;date </code>date +%m%d%H%M%Y.%S%3N<code>&quot;</code>. O acesso root é necessário se estiver usando um dispositivo físico.</p></div><h2 id="depuracao-em-um-dispositivo-fisico" tabindex="-1">Depuração em um dispositivo físico <a class="header-anchor" href="#depuracao-em-um-dispositivo-fisico" aria-label="Permalink to &quot;Depuração em um dispositivo físico&quot;">​</a></h2><div class="info custom-block"><p class="custom-block-title"><strong>Informações</strong></p><p>Se você estiver usando Expo CLI, isso já está configurado para você.</p></div><h2 id="android" tabindex="-1">Android <a class="header-anchor" href="#android" aria-label="Permalink to &quot;Android&quot;">​</a></h2><p>Em dispositivos Android 5.0+ conectados via USB, você pode usar a ferramenta de linha de comando adb para configurar o encaminhamento de porta do dispositivo para o seu computador:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">adb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reverse</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tcp:8081</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tcp:8081</span></span></code></pre></div><p>Como alternativa, selecione “Configurações” no menu Dev e atualize a configuração “Host do servidor de depuração para dispositivo” para corresponder ao endereço IP do seu computador.</p><h2 id="ios" tabindex="-1">iOS <a class="header-anchor" href="#ios" aria-label="Permalink to &quot;iOS&quot;">​</a></h2><p>Em dispositivos iOS, abra o arquivo <a href="https://github.com/facebook/react-native/blob/master/packages/react-native/React/CoreModules/RCTWebSocketExecutor.mm" target="_blank" rel="noreferrer">RCTWebSocketExecutor.mm</a> e altere &quot;localhost&quot; para o endereço IP do seu computador e selecione &quot;Debug JS Remotely&quot; no menu Dev.</p><div class="tip custom-block"><p class="custom-block-title"><strong>Observação</strong></p><p>Se você tiver algum problema, pode ser que uma de suas extensões do Chrome esteja interagindo de maneira inesperada com o depurador. Tente desabilitar todas as suas extensões e reativá-las uma por uma até encontrar a extensão problemática.</p></div><div class="info custom-block"><p class="custom-block-title"><strong>Avançado: depuração usando um depurador JavaScript personalizado</strong></p><p>Para usar um depurador JavaScript personalizado no lugar das Ferramentas de desenvolvedor do Chrome, defina a variável de ambiente <code>REACT_DEBUGGER</code> como um comando que iniciará seu depurador personalizado. Você pode então selecionar &quot;Open Debugger&quot; no menu Dev para iniciar a depuração.</p><p>O depurador receberá uma lista de todas as raízes do projeto, separadas por um espaço. Por exemplo, se você definir <code>REACT_DEBUGGER=&quot;node /path/to/launchDebugger.js --port 2345 --type ReactNative&quot;</code>, então o comando <code>node /path/to/launchDebugger.js --port 2345 --type ReactNative /path/to/reactNative/app</code> será usado para iniciar seu depurador.</p></div><div class="info custom-block"><p class="custom-block-title"><strong>Observação</strong></p><p>Os comandos do depurador personalizado executados dessa maneira devem ser processos de curta duração e não devem produzir mais de 200 kilobytes de saída.</p></div><h2 id="ferramentas-para-desenvolvedores-safari" tabindex="-1">Ferramentas para desenvolvedores Safari <a class="header-anchor" href="#ferramentas-para-desenvolvedores-safari" aria-label="Permalink to &quot;Ferramentas para desenvolvedores Safari&quot;">​</a></h2><p>Você pode usar o Safari para depurar a versão iOS do seu aplicativo sem precisar ativar &quot;Depurar JS remotamente&quot;.</p><ul><li>Em um dispositivo físico, vá para: <code>Settings → Safari → Advanced → Make sure &quot;Web Inspector&quot; is turned on</code> (esta etapa não é necessária no Simulador)</li><li>No seu Mac, ative o menu Desenvolver no Safari: <code>Settings... (or Preferences...) → Advanced → Select &quot;Show Develop menu in menu bar&quot;</code></li><li>Selecione o JSContext do seu aplicativo: <code>Develop → Simulator (or other device) → JSContext</code></li><li>O Web Inspector do Safari deve abrir, contendo um console e um depurador</li></ul><p>Embora os mapas de origem possam não estar habilitados por padrão, você pode seguir <a href="http://blog.nparashuram.com/2019/10/debugging-react-native-ios-apps-with.html" target="_blank" rel="noreferrer">este guia</a> ou <a href="https://www.youtube.com/watch?v=GrGqIIz51k4" target="_blank" rel="noreferrer">vídeo</a> para habilitá-los e definir pontos de interrupção nos locais certos no código-fonte.</p><p>No entanto, sempre que o aplicativo é recarregado (usando recarregamento ao vivo ou recarregando manualmente), um novo JSContext é criado. Escolher &quot;Mostrar automaticamente inspetores da Web para JSContexts&quot; evita que você tenha que selecionar manualmente o JSContext mais recente.</p><h2 id="monitor-de-desempenho" tabindex="-1">Monitor de desempenho <a class="header-anchor" href="#monitor-de-desempenho" aria-label="Permalink to &quot;Monitor de desempenho&quot;">​</a></h2><p>Você pode ativar uma sobreposição de desempenho para ajudá-lo a depurar problemas de desempenho selecionando &quot;Perf Monitor&quot; no menu Dev.</p>`,43),n=[t];function d(c,l,p,u,m,h){return a(),o("div",null,n)}const b=e(i,[["render",d]]);export{g as __pageData,b as default};
