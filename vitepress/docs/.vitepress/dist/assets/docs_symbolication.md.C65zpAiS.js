import{_ as s,c as i,o as a,a4 as e}from"./chunks/framework.nQaBHiNx.js";const m=JSON.parse('{"title":"Simbolizando um rastreamento de pilha","description":"","frontmatter":{},"headers":[],"relativePath":"docs/symbolication.md","filePath":"docs/symbolication.md"}'),t={name:"docs/symbolication.md"},n=e(`<h1 id="simbolizando-um-rastreamento-de-pilha" tabindex="-1">Simbolizando um rastreamento de pilha <a class="header-anchor" href="#simbolizando-um-rastreamento-de-pilha" aria-label="Permalink to &quot;Simbolizando um rastreamento de pilha&quot;">​</a></h1><p>Se um aplicativo React Native lançar uma exceção não tratada em uma compilação de lançamento, a saída poderá ficar ofuscada e difícil de ler:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">07-15</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:58:25.820</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 18979</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 18998</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> E</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> AndroidRuntime:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> FATAL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> EXCEPTION:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mqt_native_modules</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">07-15</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:58:25.820</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 18979</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 18998</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> E</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> AndroidRuntime:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Process:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> com.awesomeproject,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PID:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 18979</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 07</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">-15</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:58:25.820</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 18979</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 18998</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> E</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> AndroidRuntime:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> com.facebook.react.common.JavascriptException:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Failed,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> js</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> engine:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hermes,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stack:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">07-15</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:58:25.820</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 18979</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 18998</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> E</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> AndroidRuntime:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> p@1:132161</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">07-15</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:58:25.820</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 18979</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 18998</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> E</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> AndroidRuntime:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> p@1:132084</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">07-15</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:58:25.820</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 18979</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 18998</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> E</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> AndroidRuntime:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f@1:131854</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">07-15</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:58:25.820</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 18979</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 18998</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> E</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> AndroidRuntime:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> anonymous@1:131119</span></span></code></pre></div><p>As seções como <code>p@1:132161</code> são nomes de funções reduzidos e deslocamentos de bytecode. Para depurar o problema, você deve traduzi-lo em nome de arquivo, linha e função: <code>AwesomeProject/App.js:54:initializeMap</code>. Isso é conhecido como simbolização. Você pode simbolizar nomes de funções minificados e bytecode como acima, passando <code>metro-symbolicate</code> um mapa de origem gerado e o rastreamento de pilha.</p><div class="info custom-block"><p class="custom-block-title">INFORMAÇÃO</p><p>O pacote <code>metro-symbolicate</code> é instalado por padrão no projeto de modelo React Native ao <a href="/docs/environment-setup.html">configurar seu ambiente de desenvolvimento</a>.</p></div><p>De um arquivo contendo o stacktrace:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> metro-symbolicate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> android/app/build/generated/sourcemaps/react/release/index.android.bundle.map</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stacktrace.txt</span></span></code></pre></div><p>Diretamente do <code>adb logcat</code>:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">adb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logcat</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> metro-symbolicate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> android/app/build/generated/sourcemaps/react/release/index.android.bundle.map</span></span></code></pre></div><p>Isso transformará cada nome de função minificado e deslocamento como <code>p@1:132161</code> no nome real do arquivo e da função <code>AwesomeProject/App.js:54:initializeMap</code>.</p><h2 id="notas-sobre-mapas-de-origem" tabindex="-1">Notas sobre mapas de origem <a class="header-anchor" href="#notas-sobre-mapas-de-origem" aria-label="Permalink to &quot;Notas sobre mapas de origem&quot;">​</a></h2><ul><li>Vários mapas de origem podem ser gerados pelo processo de construção. Certifique-se de usar aquele no local mostrado nos exemplos.</li><li>Certifique-se de que o mapa de origem usado corresponda ao commit exato do aplicativo com falha. Pequenas alterações no código-fonte podem causar grandes diferenças nos deslocamentos.</li><li>Se o <code>metro-symbolicate</code> sair imediatamente com sucesso, certifique-se de que a entrada venha de um pipe ou redirecionamento e não de um terminal.</li></ul>`,12),h=[n];function l(p,o,k,d,r,F){return a(),i("div",null,h)}const g=s(t,[["render",l]]);export{m as __pageData,g as default};
