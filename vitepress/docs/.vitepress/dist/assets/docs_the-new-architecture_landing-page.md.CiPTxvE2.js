import{_ as i,c as e,o as t,a4 as s,m as a}from"./chunks/framework.nQaBHiNx.js";const n="/assets/async-on-layout.BrDeWvQE.gif",r="/assets/sync-use-layout-effect.DiHT__9B.gif",o="/assets/legacy-renderer.-pdigmji.gif",l="/assets/react18-renderer.J5U3e7Q-.gif",p="/assets/with-transitions.BF9oM46H.gif",h="/assets/without-transitions.lHrdMMJM.gif",B=JSON.parse('{"title":"Sobre a Nova Arquitetura","description":"","frontmatter":{},"headers":[],"relativePath":"docs/the-new-architecture/landing-page.md","filePath":"docs/the-new-architecture/landing-page.md"}'),d={name:"docs/the-new-architecture/landing-page.md"},k=s(`<h1 id="sobre-a-nova-arquitetura" tabindex="-1">Sobre a Nova Arquitetura <a class="header-anchor" href="#sobre-a-nova-arquitetura" aria-label="Permalink to &quot;Sobre a Nova Arquitetura&quot;">​</a></h1><div class="info custom-block"><p class="custom-block-title">Informações</p><p>Se você está procurando os guias da Nova Arquitetura, eles foram transferidos para o <a href="https://github.com/reactwg/react-native-new-architecture#guides" target="_blank" rel="noreferrer">grupo de trabalho</a>.</p></div><p>Desde 2018, a equipe do React Native vem redesenhando os principais componentes internos do React Native para permitir que os desenvolvedores criem experiências de maior qualidade. Em 2024, esta versão do React Native foi comprovada em escala e potencializa aplicativos de produção da Meta.</p><p>O termo <em>Nova Arquitetura</em> refere-se tanto à nova arquitetura de framework quanto ao trabalho para trazê-la para o código aberto.</p><p>A nova arquitetura está disponível para aceitação experimental a partir do <a href="/blog/2022/03/30/version-068.html#opting-in-to-the-new-architecture">React Native 0.68</a> com melhorias contínuas em cada liberação. A equipe agora está trabalhando para tornar esta a experiência padrão para o ecossistema de código aberto React Native.</p><h2 id="por-que-uma-nova-arquitetura" tabindex="-1">Por que uma nova arquitetura? <a class="header-anchor" href="#por-que-uma-nova-arquitetura" aria-label="Permalink to &quot;Por que uma nova arquitetura?&quot;">​</a></h2><p>Depois de muitos anos construindo com React Native, a equipe identificou um conjunto de limitações que impediam os desenvolvedores de criar certas experiências com alto nível de polimento. Essas limitações foram fundamentais para o design existente do framework, então a Nova Arquitetura começou como um investimento no futuro do React Native.</p><p>A Nova Arquitetura desbloqueia capacidades e melhorias que eram impossíveis na arquitetura legada.</p><h3 id="layout-e-efeitos-sincronos" tabindex="-1">Layout e efeitos síncronos <a class="header-anchor" href="#layout-e-efeitos-sincronos" aria-label="Permalink to &quot;Layout e efeitos síncronos&quot;">​</a></h3><p>Construir experiências de UI adaptáveis ​​geralmente requer medir o tamanho e a posição de suas visualizações e ajustar o layout.</p><p>Hoje, você usaria o evento <a href="/docs/view.html#onlayout"><code>onLayout</code></a> para obter as informações de layout de uma visualização e fazer quaisquer ajustes. No entanto, as atualizações de estado dentro do retorno de chamada <code>onLayout</code> podem ser aplicadas após pintar a renderização anterior. Isso significa que os usuários podem ver estados intermediários ou saltos visuais entre a renderização do layout inicial e a resposta às medições do layout.</p><p>Com a Nova Arquitetura, podemos evitar totalmente esse problema com acesso síncrono às informações de layout e atualizações devidamente programadas, de modo que nenhum estado intermediário fique visível para os usuários.</p><h2 id="exemplo-renderizando-uma-dica-de-ferramenta" tabindex="-1">Exemplo: renderizando uma dica de ferramenta <a class="header-anchor" href="#exemplo-renderizando-uma-dica-de-ferramenta" aria-label="Permalink to &quot;Exemplo: renderizando uma dica de ferramenta&quot;">​</a></h2><p>Medir e colocar uma dica de ferramenta acima de uma visualização nos permite mostrar o que a renderização síncrona desbloqueia. A dica de ferramenta precisa saber a posição de sua visualização de destino para determinar onde ela deve ser renderizada.</p><p>Na arquitetura atual, usamos <code>onLayout</code> para obter as medidas da visualização e então atualizar o posicionamento da dica de ferramenta com base em onde a visualização está.</p><div class="language-jsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ViewWithTooltip</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Pegamos as informações do layout e passamos para o ToolTip se posicionar</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> onLayout</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> React.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useCallback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">event</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    targetRef.current?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">measureInWindow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // Não é garantido que esta atualização de estado seja executada no mesmo commit</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // Isso resulta em um &quot;salto&quot; visual conforme a dica de ferramenta se reposiciona</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      setTargetRect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({x, y, width, height});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, []);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">View</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{targetRef} </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onLayout</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{onLayout}&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Some content that renders a tooltip above&lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">View</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Tooltip</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> targetRect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{targetRect} /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Com a Nova Arquitetura, podemos usar <a href="https://react.dev/reference/react/useLayoutEffect" target="_blank" rel="noreferrer"><code>useLayoutEffect</code></a> para medir e aplicar atualizações de layout de forma síncrona em um único commit, evitando o &quot;salto&quot; visual.</p><div class="language-jsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ViewWithTooltip</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  useLayoutEffect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // A medição e atualização de estado para \`targetRect\` acontece em um único commit</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // permitindo que o ToolTip se posicione sem pinturas intermediárias</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    targetRef.current?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">measureInWindow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      setTargetRect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({x, y, width, height});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, [setTargetRect]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">View</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{targetRef}&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Some content that renders a tooltip above&lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">View</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Tooltip</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> targetRect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{targetRect} /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div>`,18),c=a("div",{className:"two-images"},[a("figure",null,[a("img",{src:n,class:"rounded-shadow",alt:"Uma visualização que se move para os cantos da viewport e para o centro com uma dica de ferramenta renderizada acima ou abaixo dela. A dica de ferramenta é renderizada após um pequeno atraso após a visualização se mover"}),a("figcaption",null," Medição e renderização assíncrona da dica de ferramenta. ")]),a("figure",null,[a("img",{src:r,class:"rounded-shadow",alt:"Uma visualização que está se movendo para os cantos da janela de visualização e centralizada com uma dica de ferramenta renderizada acima ou abaixo dela. A visualização e a dica se movem em uníssono."}),a("figcaption",null," Medição síncrona e renderização da dica de ferramenta. ")])],-1),u=s('<h3 id="suporte-para-renderizacao-e-recursos-simultaneos" tabindex="-1">Suporte para renderização e recursos simultâneos <a class="header-anchor" href="#suporte-para-renderizacao-e-recursos-simultaneos" aria-label="Permalink to &quot;Suporte para renderização e recursos simultâneos&quot;">​</a></h3><p>A nova arquitetura suporta renderização simultânea e recursos fornecidos no <a href="https://react.dev/blog/2022/03/29/react-v18" target="_blank" rel="noreferrer">React 18</a> e além. Agora você pode usar recursos como Suspense para busca de dados, Transições e outras novas APIs React em seu código React Native, adaptando ainda mais as bases de código e os conceitos entre o desenvolvimento web e React nativo.</p><p>O renderizador simultâneo também traz melhorias prontas para uso, como lote automático, que reduz novas renderizações no React.</p><p>Com a nova arquitetura, você obterá lotes automáticos com o renderizador React 18.</p><p>Neste exemplo, um controle deslizante especifica quantos blocos serão renderizados. Arrastar o controle deslizante de 0 a 1000 iniciará uma rápida sucessão de atualizações de estado e novas renderizações.</p><p>Ao comparar os renderizadores para o <a href="https://gist.github.com/lunaleaps/79bb6f263404b12ba57db78e5f6f28b2" target="_blank" rel="noreferrer">mesmo código</a>, você pode notar visualmente que o renderizador fornece uma UI mais suave, com menos atualizações intermediárias da UI. As atualizações de estado de manipuladores de eventos nativos, como este componente Slider nativo, agora são agrupadas em lote.</p>',6),E=a("div",{className:"two-images"},[a("figure",null,[a("img",{src:o,class:"rounded-shadow",alt:"Uma visualização que se move para os cantos da viewport e para o centro com uma dica de ferramenta renderizada acima ou abaixo dela. A dica de ferramenta é renderizada após um pequeno atraso após a visualização se mover"}),a("figcaption",null," Renderizando atualizações de estado frequentes com renderizador legado. ")]),a("figure",null,[a("img",{src:l,class:"rounded-shadow",alt:"Uma visualização que está se movendo para os cantos da janela de visualização e centralizada com uma dica de ferramenta renderizada acima ou abaixo dela. A visualização e a dica se movem em uníssono."}),a("figcaption",null," Renderizando atualizações de estado frequentes com o renderizador React 18. ")])],-1),m=s(`<p>Novos recursos simultâneos, como <a href="https://react.dev/reference/react/useTransition" target="_blank" rel="noreferrer">Transições</a>, permitem expressar a prioridade das atualizações da IU. Marcar uma atualização como de prioridade mais baixa informa ao React que ele pode &quot;interromper&quot; a renderização da atualização para lidar com atualizações de prioridade mais alta para garantir uma experiência de usuário responsiva onde for importante.</p><h2 id="exemplo-usando-starttransition" tabindex="-1">Exemplo: Usando <code>startTransition</code> <a class="header-anchor" href="#exemplo-usando-starttransition" aria-label="Permalink to &quot;Exemplo: Usando \`startTransition\`&quot;">​</a></h2><p>Podemos aproveitar o exemplo anterior para mostrar como as transições podem interromper a renderização em andamento para lidar com uma atualização de estado mais recente.</p><p>Envolvemos a atualização do estado do número do bloco com <code>startTransition</code> para indicar que a renderização dos blocos pode ser interrompida. <code>startTransition</code> também fornece um sinalizador <code>isPending</code> para nos informar quando a transição for concluída.</p><div class="language-jsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TileSlider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">onValueChange</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">isPending</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">startTransition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useTransition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">View</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          Render {value} Tiles</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ActivityIndicator</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> animating</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{isPending} /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">View</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Slider</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        minimumValue</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        maximumValue</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        step</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        onValueChange</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">newValue</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          startTransition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            onValueChange</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(newValue);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ManyTiles</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">setValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> tiles</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> generateTileViews</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">TileSlider</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onValueChange</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{setValue} </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{value} /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">View</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {tiles}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">View</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Você notará que com as atualizações frequentes em uma transição, o React renderiza menos estados intermediários porque ele deixa de renderizar o estado assim que ele se torna obsoleto. Em comparação, sem transições, mais estados intermediários são renderizados. Ambos os exemplos ainda usam lote automático. Ainda assim, as transições dão ainda mais poder aos desenvolvedores para agrupar renderizações em andamento.</p>`,6),g=a("div",{className:"two-images"},[a("figure",null,[a("img",{src:p,class:"rounded-shadow"}),a("figcaption",null," Renderização de blocos com transições para interromper renderizações em andamento de estado obsoleto. ")]),a("figure",null,[a("img",{src:h,class:"rounded-shadow"}),a("figcaption",null," Renderizar blocos sem marcá-los como transição. ")])],-1),y=s('<h3 id="javascript-rapido-interface-nativa" tabindex="-1">JavaScript rápido/interface nativa <a class="header-anchor" href="#javascript-rapido-interface-nativa" aria-label="Permalink to &quot;JavaScript rápido/interface nativa&quot;">​</a></h3><p>A Nova Arquitetura remove a <a href="https://reactnative.dev/blog/2018/06/14/state-of-react-native-2018#architecture" target="_blank" rel="noreferrer">ponte assíncrona</a> entre JavaScript e nativo e a substitui pela Interface JavaScript (JSI). JSI é uma interface que permite ao JavaScript manter uma referência a um objeto C++ e vice-versa. Com uma referência de memória, você pode invocar métodos diretamente sem custos de serialização.</p><p>JSI permite que <a href="https://github.com/mrousavy/react-native-vision-camera" target="_blank" rel="noreferrer">VisionCamera</a>, uma biblioteca de câmeras popular para React Native, processe quadros em tempo real. Os buffers de quadros típicos têm 10 MB, o que equivale a aproximadamente 1 GB de dados por segundo, dependendo da taxa de quadros. Em comparação com os custos de serialização da ponte, o JSI lida com essa quantidade de dados de interface com facilidade. JSI pode expor outros tipos complexos baseados em instâncias, como bancos de dados, imagens, amostras de áudio, etc.</p><p>A adoção de JSI na Nova Arquitetura remove essa classe de trabalho de serialização de toda interoperabilidade JavaScript nativa. Isso inclui inicializar e renderizar novamente os componentes principais nativos, como <code>View</code> e <code>Text</code>. Você pode ler mais sobre nossa <a href="https://github.com/reactwg/react-native-new-architecture/discussions/123" target="_blank" rel="noreferrer">investigação em desempenho de renderização</a> na Nova Arquitetura e nos benchmarks aprimorados que medimos.</p><h3 id="saber-mais" tabindex="-1">Saber mais <a class="header-anchor" href="#saber-mais" aria-label="Permalink to &quot;Saber mais&quot;">​</a></h3><p>Para conseguir isso, a Nova Arquitetura teve que refatorar várias partes da infraestrutura React Native. Para saber mais sobre o refatorador e outros benefícios que ele traz, confira a <a href="https://github.com/reactwg/react-native-new-architecture" target="_blank" rel="noreferrer">documentação</a> no grupo de trabalho Nova Arquitetura.</p><h2 id="o-que-posso-esperar-ao-ativar-a-nova-arquitetura" tabindex="-1">O que posso esperar ao ativar a Nova Arquitetura? <a class="header-anchor" href="#o-que-posso-esperar-ao-ativar-a-nova-arquitetura" aria-label="Permalink to &quot;O que posso esperar ao ativar a Nova Arquitetura?&quot;">​</a></h2><p>Embora a Nova Arquitetura habilite esses recursos e melhorias, habilitar a Nova Arquitetura para seu aplicativo ou biblioteca pode não melhorar imediatamente o desempenho ou a experiência do usuário.</p><p>Por exemplo, seu código pode precisar de refatoração para aproveitar novos recursos, como efeitos de layout síncronos ou recursos simultâneos. Embora o JSI minimize a sobrecarga entre o JavaScript e a memória nativa, a serialização de dados pode não ter sido um gargalo para o desempenho do seu aplicativo.</p><p>Habilitar a Nova Arquitetura em seu aplicativo ou biblioteca é optar pelo futuro do React Native.</p><p>A equipe está pesquisando e desenvolvendo ativamente novos recursos que a Nova Arquitetura desbloqueia. Por exemplo, o alinhamento da web é uma área ativa de exploração na Meta que será enviada para o ecossistema de código aberto React Native.</p><ul><li><a href="https://github.com/react-native-community/discussions-and-proposals/blob/main/proposals/0744-well-defined-event-loop.md" target="_blank" rel="noreferrer">Atualizações no modelo de loop de eventos</a></li><li><a href="https://github.com/react-native-community/discussions-and-proposals/blob/main/proposals/0607-dom-traversal-and-layout-apis.md" target="_blank" rel="noreferrer">APIs de nós e layout</a></li><li><a href="https://github.com/facebook/yoga/releases/tag/v2.0.0" target="_blank" rel="noreferrer">Conformidade de estilo e layout</a></li></ul><p>Você pode acompanhar e contribuir em nosso repositório dedicado <a href="https://github.com/react-native-community/discussions-and-proposals/discussions/651" target="_blank" rel="noreferrer">discussões e propostas</a>.</p><h2 id="devo-usar-a-nova-arquitetura-hoje" tabindex="-1">Devo usar a Nova Arquitetura hoje? <a class="header-anchor" href="#devo-usar-a-nova-arquitetura-hoje" aria-label="Permalink to &quot;Devo usar a Nova Arquitetura hoje?&quot;">​</a></h2><p>Hoje, a Nova Arquitetura é considerada experimental e continuamos a refinar a compatibilidade com versões anteriores para uma melhor experiência de adoção.</p><p>A equipe planeja habilitar a Nova Arquitetura por padrão em uma próxima versão do React Native até o final de 2024.</p><p>Nossa orientação é a seguinte</p><ul><li>Para a maioria dos aplicativos de produção, <em>não</em> recomendamos ativar a Nova Arquitetura hoje. Esperar pelo lançamento oficial oferecerá a melhor experiência.</li><li>Se você mantém uma biblioteca React Native, recomendamos habilitá-la e verificar se seus casos de uso estão cobertos. Você pode encontrar as <a href="https://github.com/reactwg/react-native-new-architecture#guides" target="_blank" rel="noreferrer">instruções aqui</a>.</li></ul><h3 id="habilite-a-nova-arquitetura" tabindex="-1">Habilite a nova arquitetura <a class="header-anchor" href="#habilite-a-nova-arquitetura" aria-label="Permalink to &quot;Habilite a nova arquitetura&quot;">​</a></h3><p>Se você estiver interessado em usar a experiência da Nova Arquitetura como dogfood, você pode encontrar <a href="https://github.com/reactwg/react-native-new-architecture/blob/main/docs/enable-apps.md" target="_blank" rel="noreferrer">instruções</a> em nosso grupo de trabalho dedicado. O <a href="https://github.com/reactwg/react-native-new-architecture" target="_blank" rel="noreferrer">grupo de trabalho da Nova Arquitetura</a> é um espaço dedicado para suporte e coordenação para a adoção da Nova Arquitetura e onde a equipe publica atualizações regulares.</p>',20),v=[k,c,u,E,m,g,y];function F(f,b,q,A,C,_){return t(),e("div",null,v)}const x=i(d,[["render",F]]);export{B as __pageData,x as default};
